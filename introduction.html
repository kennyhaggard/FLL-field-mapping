<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>First Lego League Field Mapping</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1, h2, h3 {
            color: #333;
        }
        p {
            color: #555;
        }
        ul {
            list-style: none;
            padding: 0;
        }
        ul li {
            margin-bottom: 10px;
        }
        pre {
            background-color: #f4f4f4;
            padding: 10px;
            border-left: 3px solid #333;
            overflow-x: auto;
            font-family: "Courier New", Courier, monospace;
        }
	img {
		max-width:300px;
	}
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>First Lego League Field Mapping</h1>
        <p>A tool to plot paths for First Lego League</p>

        <p>Welcome! This tool is designed to help First Lego League teams plan their movement across the field.</p>

        <h2>Overview</h2>
        <p>This is a simple script that relies on providing a JSON text file with a set of missions. The tool helps visualize and trace the robot's movement on the field based on the mission data. Importantly, it is intended to be used by students to help assist coding. I intentionally don't want to make it overly complicated so students can drive the development!</p>

        <h3>Assumptions</h3>
        <ul>
            <li><strong>Zero Point Turns</strong>: The robot's turns are assumed to be zero point or in place. Wheelbases are typically offset from the center so I have included the ability to define the offset. A positive offset pushes the center of rotation towards the back of the robot.</li>
            <li><strong>Movement Timing</strong>: Timing is not representative of the robot's actual speed; it only reflects the robot's path.</li>
            <li><strong>Accurate Turns</strong>: The robot must turn accurately for the tool to be effective. This is best achieved by using the hub's yaw sensor. Implementation can be done in Python or block code.</li>
			<li><strong>Coordinate System</strong>: (0,0) is the lower left corner of the map. You might have to experiment with placements to get the hang of how I have it programed. It is set so that the start position will be made respective of the orientation of the robot at start of the mission. Experimenet with different inputs!</li>
			<li><strong>Measurements</strong>: All measurements are in centimeters and degrees. In general, the coordinates follow the 0 degrees is in the positive x-axis and positive angles are counter-clockwise.</strong>
			<li><strong>Shape</strong>:It is assumed the robot is a single rectangle, more complicated or even true boarders is not setup in this model.</li>
			<li>Orienting the robot left or right, would shift the (0,0) start position from being stricktly in the lower left corner. This might take some experimenting to get a hang of how it is programmed.</li>
        </ul>

	<h3>Explanation of Offset:</h3>
	<img src='https://raw.githubusercontent.com/kennyhaggard/FLL-field-mapping/refs/heads/main/offset_diagram.png'>
	<p>Positive offset is shown here where the rotational center is skewed towards the rear of the geometric center. Negative offset would be skewed towards the front of the robot relative to the geometric center.</p>

	<h3>Field Orientation</h3>
	<img src='https://github.com/kennyhaggard/FLL-field-mapping/blob/main/field_orientation.png?raw=true'>
	<p>This helps to explain the orientation of the robot on the playing field.</p>

        <h2>Mission Format</h2>
        <p>There is a builder tool that allows move and rotate blocks to be added. There is also a JSON format that is used to run the app. The JSON upload can be used to load several missions to showcase different potential paths or a full set of mission plans.</p>
		<p>Below is an example, also in the repository there is a missions.json file with this code:</p>

        <pre>
[
    {
        "name": "Coral Sweep",
        "startX": 11.5,
        "startY": 0,
        "startAngle": 90,
        "robotWidthCm": 17,
        "robotLengthCm": 15,
	"traceColor": "green",
	"offsetY":1.8,
        "actions": [
            { "type": "move", "value": 17},
            { "type": "rotate", "value": -24 },
            { "type": "move", "value": 50 },
            { "type": "move", "value": -50 },
            { "type": "rotate", "value": 24 },
	    { "type": "move", "value": -17}
        ]
    },
    {
        "name": "Raise the Mast",
        "startX": 25,
        "startY": 0,
        "startAngle": 90,
        "robotWidthCm": 17,
        "robotLengthCm": 15,
	"traceColor":"red",
	"offsetY":1.8,
        "actions": [
            { "type": "move", "value": 55 },
            { "type": "rotate", "value": -90 },
            { "type": "move", "value": 20 },
	    { "type": "move", "value": -20 },
	    { "type": "rotate", "value": 90 },
	    { "type": "move", "value": -55 }
        ]
    },
    {
        "name": "Coral Nursery/Shark Release",
        "startX": 0,
        "startY": 24,
        "startAngle": 0,
        "robotWidthCm": 17,
        "robotLengthCm": 15,
	"traceColor": "yellow",
	"offsetY":1.8,
        "actions": [
            { "type": "move", "value": 40 },
            { "type": "rotate", "value": 90 },
            { "type": "move", "value": 43.5 },
	    { "type": "rotate", "value": 90 },
	    { "type": "move", "value": 20},
	    { "type": "move", "value": -20},
	    { "type": "rotate", "value": -36.5},
            { "type": "move", "value": 29},
	    { "type": "move", "value": -29},
	    { "type": "rotate", "value": 90},
	    { "type": "move", "value": 60}
        ]
    }
]
        </pre>

        <p>Good luck, and have fun plotting your robotâ€™s paths!</p>
    </div>
</body>
</html>
